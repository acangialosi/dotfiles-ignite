setupTasks:
  - task: git-clone
    inputs:
      repositoryUrl: 'https://github.com/acangialosi/dotfiles-ignite'
      directory: 'c:\src'
  - task: powershell
    inputs:
      command: '& C:\src\dotfiles-ignite\visualstudio\settings\devbox\apply-settings.ps1'
      runAsUser: true
  - task: powershell
    inputs:
      command: 'Set-PSRepository -Name "PSGallery" -InstallationPolicy Trusted'
      runAsUser: true
  - task: powershell
    inputs:
      command: 'Install-Module -Name winget'
      runAsUser: true
  - task: powershell
    inputs:
      command: 'Install-Module -Name Microsoft.WinGet.Configuration -AllowPrerelease'
      runAsUser: true
  - task: winget
    inputs:
      package: 'Microsoft.Azd'
      runAsUser: true
  - task: winget
    inputs:
      configurationFile: 'C:\src\dotfiles-ignite\windows\winget.dsc.user.yaml'
      runAsUser: true